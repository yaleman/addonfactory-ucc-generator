"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[3457],{"./src/util/Validator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,w:()=>SaveValidator});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/preDefinedRegex.ts"),_messageUtil__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/util/messageUtil.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:String(i)}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}var parseFunctionRawStr=function parseFunctionRawStr(rawStr){var err,result;try{result=eval("(".concat(rawStr,")"))}catch(e){err=(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(11,rawStr)}return{err,result}};function SaveValidator(validatorFunc,formData){var _parseFunctionRawStr=parseFunctionRawStr(validatorFunc),error=_parseFunctionRawStr.error,result=_parseFunctionRawStr.result;if(error)return{errorMsg:error};var ret=result(formData);return"string"==typeof ret?{errorMsg:ret}:void 0}var parseNumberValidator=function parseNumberValidator(range){return{error:2===range.length&&lodash__WEBPACK_IMPORTED_MODULE_0__.isNumber(range[0])&&lodash__WEBPACK_IMPORTED_MODULE_0__.isNumber(range[1])&&range[0]<=range[1]?void 0:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(13,JSON.stringify(range))}},parseRegexRawStr=function parseRegexRawStr(rawStr){var error,result;try{result=new RegExp(rawStr)}catch(e){error=(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(12,rawStr)}return{error,result}},Validator=function(){function Validator(entities){_classCallCheck(this,Validator),this.entities=entities,this.isName=entities.find((function(e){return"name"===e.field}))}return _createClass(Validator,[{key:"doValidation",value:function doValidation(data){if(this.isName){var targetValue=data.name,nameFieldLabel=this.isName.label;if(void 0===targetValue||""===targetValue||null==targetValue)return{errorField:"name",errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(0,[nameFieldLabel])};if(!("string"==typeof targetValue||targetValue instanceof String))return{errorField:"name",errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(1,[nameFieldLabel])};if(targetValue.startsWith("_")||"."===targetValue||".."===targetValue||"default"===targetValue.toLowerCase())return{errorField:"name",errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(3,[nameFieldLabel])};if(["*","\\","[","]","(",")","?",":"].some((function(d){return targetValue.indexOf(d)>-1})))return{errorField:"name",errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(3,[nameFieldLabel])};if(targetValue.length>=1024)return{errorField:"name",errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(22,[nameFieldLabel])}}var ret,i,j;for(i=0;i<this.entities.length;i+=1){if(!0===this.entities[i].required&&(ret=Validator.RequiredValidator(this.entities[i].field,this.entities[i].label,data[this.entities[i].field])))return ret;if(""!==data[this.entities[i].field]&&null!==data[this.entities[i].field]){if("file"===this.entities[i].type&&"##INVALID_FILE##"===data[this.entities[i].field])return{errorField:this.entities[i].field,errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(26)};if(this.entities[i].validators)for(j=0;j<this.entities[i].validators.length;j+=1)switch(this.entities[i].validators[j].type){case"string":if(ret=Validator.StringValidator(this.entities[i].field,this.entities[i].label,this.entities[i].validators[j],data[this.entities[i].field]))return ret;break;case"regex":if(ret=Validator.RegexValidator(this.entities[i].field,this.entities[i].label,this.entities[i].validators[j],data[this.entities[i].field]))return ret;break;case"number":if(ret=Validator.NumberValidator(this.entities[i].field,this.entities[i].label,this.entities[i].validators[j],data[this.entities[i].field]))return ret;break;case"url":if(ret=Validator.PreDefinedRegexValidator(this.entities[i].field,this.entities[i].label,this.entities[i].validators[j],data[this.entities[i].field],_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.url.regex,_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.url.inputValueType))return ret;break;case"date":if(ret=Validator.PreDefinedRegexValidator(this.entities[i].field,this.entities[i].label,this.entities[i].validators[j],data[this.entities[i].field],_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.date.regex,_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.date.inputValueType))return ret;break;case"email":if(ret=Validator.PreDefinedRegexValidator(this.entities[i].field,this.entities[i].label,this.entities[i].validators[j],data[this.entities[i].field],_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.email.regex,_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.email.inputValueType))return ret;break;case"ipv4":if(ret=Validator.PreDefinedRegexValidator(this.entities[i].field,this.entities[i].label,this.entities[i].validators[j],data[this.entities[i].field],_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.ipv4.regex,_constants_preDefinedRegex__WEBPACK_IMPORTED_MODULE_1__.X1.ipv4.inputValueType))return ret;break;case"custom":if(ret=Validator.CustomValidator(this.entities[i].validators[j].validatorFunc,this.entities[i].field,data[this.entities[i].field]))return ret}}}return!1}}],[{key:"RequiredValidator",value:function RequiredValidator(field,label,data){return!Validator.checkIsFieldHasInput(data)&&{errorField:field,errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(6,[label])}}},{key:"StringValidator",value:function StringValidator(field,label,validator,data){return Validator.checkIsFieldHasInput(data)&&data.length>validator.maxLength?{errorField:field,errorMsg:validator.errorMsg?validator.errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(18,[label,validator.maxLength])}:!!(Validator.checkIsFieldHasInput(data)&&data.length<validator.minLength)&&{errorField:field,errorMsg:validator.errorMsg?validator.errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(17,[label,validator.minLength])}}},{key:"RegexValidator",value:function RegexValidator(field,label,validator,data){var _parseRegexRawStr=parseRegexRawStr(validator.pattern),error=_parseRegexRawStr.error,regex=_parseRegexRawStr.result;return error?{errorField:field,errorMsg:error}:!(!Validator.checkIsFieldHasInput(data)||regex.test(data))&&{errorField:field,errorMsg:validator.errorMsg?validator.errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(15,[label,validator.pattern])}}},{key:"CustomValidator",value:function CustomValidator(validatorFunc,field,data){var ret=validatorFunc(field,data);return"string"==typeof ret&&{errorField:field,errorMsg:ret}}},{key:"PreDefinedRegexValidator",value:function PreDefinedRegexValidator(field,label,validator,data,pattern,inputValueType){var _parseRegexRawStr2=parseRegexRawStr(pattern),error=_parseRegexRawStr2.error,regex=_parseRegexRawStr2.result;return error?{errorField:field,errorMsg:error}:!(!Validator.checkIsFieldHasInput(data)||regex.test(data))&&{errorField:field,errorMsg:validator.errorMsg?validator.errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(19,[label,inputValueType])}}},{key:"NumberValidator",value:function NumberValidator(field,label,validator,data){var error=parseNumberValidator(validator.range).error;if(error)return{errorField:field,errorMsg:error};var val=Number(data);return Number.isNaN(val)?{errorField:field,errorMsg:validator.errorMsg?validator.errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(16,[label])}:!!(Validator.checkIsFieldHasInput(data)&&val>validator.range[1]||val<validator.range[0])&&{errorField:field,errorMsg:validator.errorMsg?validator.errorMsg:(0,_messageUtil__WEBPACK_IMPORTED_MODULE_2__.P)(8,[label,validator.range[0],validator.range[1]])}}}]),Validator}();_defineProperty(Validator,"checkIsFieldHasInput",(function(attrValue){return null!=attrValue&&("string"!=typeof attrValue||""!==attrValue.trim())}));const __WEBPACK_DEFAULT_EXPORT__=Validator},"./src/util/messageUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>getFormattedMessage,n:()=>parseErrorMsg});var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),i18n=__webpack_require__("./node_modules/@splunk/ui-utils/i18n.js");const messageDict={0:"Field {{args[0]}} is required",1:"Field {{args[0]}} must be a string",2:"{{args[0]}} {{args[1]}} is already in use",3:'"default", ".", "..", string started with "_" and string including any one of ["*", "\\", "[", "]", "(", ")", "?", ":"] are reserved value which cannot be used for field {{args[0]}}',5:"Field {{args[0]}} should be a positive number",6:"Field {{args[0]}} is required",7:"Field {{args[0]}} is not a valid regular expression",8:"Field {{args[0]}} should be within the range of [{{args[1]}} and {{args[2]}}]",9:"Field {{args[0]}} should be greater than or equal to {{args[1]}}",10:"Field {{args[0]}} should be less than or equal to {{args[1]}}",11:"{{args[0]}} is not a function",12:"{{args[0]}} is not a valid regular expression",13:"{{args[0]}} is not a valid number range",15:"Field {{args[0]}} does not match regular expression {{args[1]}}",16:"Field {{args[0]}} is not a number",17:"Length of {{args[0]}} should be greater than or equal to {{args[1]}}",18:"Length of {{args[0]}} should be less than or equal to {{args[1]}}",19:"Field {{args[0]}} is not a valid {{args[1]}}",20:"configuration file should be pure JSON",21:"duplicate {{args[0]}} keys are not allowed",22:"Field {{args[0]}} must be less than 1024 characters",23:'"name" field must be provided for {{args[0]}} \'s entity in configuration file',24:"The file must be in one of these formats: {{args[0]}}",25:"The file size should not exceed {{args[0]}} KB",26:"The file is invalid",27:"{{args[0]}} type is not present in supported File Types",28:"The file must be in {{args[0]}} format",100:"Create New Input",101:"Delete Confirmation",102:'Are you sure you want to delete "{{args[0]}}" {{args[1]}}? Ensure that no input is configured with "{{args[0]}}" as this will stop data collection for that input.',103:'Are you sure you want to delete "{{args[0]}}" {{args[1]}}?',104:"Error Message",105:"Warning",106:"Input Type",107:"Items",108:"Saving",109:"Failed to load index",110:"Internal configuration file error. Something wrong within the package or installation step. Contact your administrator for support. Detail: {{args[0]}}",111:"URL",112:"email address",113:"IPV4 address",114:"date in ISO 8601 format",116:"Inputs",117:"Configuration",118:"configuration file not found",unknown:"An unknown error occurred"};var getFormattedMessage=function getFormattedMessage(code,msg){var template=messageDict[code]||messageDict.unknown;return template=(0,i18n._)(template),lodash.template(template,{escape:/\{\{(.+?)\}\}/g})({args:msg})},parseErrorMsg=function parseErrorMsg(err){var matches,errorMsg="";try{var msg=err.response.data.messages[0].text;if((matches=/.+"REST Error \[[\d]+\]:\s+.+\s+--\s+([\s\S]*)"\.\s*See splunkd\.log(\/python.log)? for more details\./.exec(msg))&&matches[1])try{var innerMsgJSON=JSON.parse(matches[1]);errorMsg=String(innerMsgJSON.messages[0].text)}catch(error){errorMsg=matches[1]}else errorMsg=msg}catch(e){errorMsg=(0,i18n._)("Error in processing the request")}return errorMsg}},"./src/components/CheckboxGroup/CheckboxGroup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CheckboxGroup_CheckboxGroup});var _templateObject,react=__webpack_require__("./node_modules/react/index.js"),ColumnLayout=__webpack_require__("./node_modules/@splunk/react-ui/ColumnLayout.js"),ColumnLayout_default=__webpack_require__.n(ColumnLayout),Button=__webpack_require__("./node_modules/@splunk/react-ui/Button.js"),Button_default=__webpack_require__.n(Button),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");var StyledColumnLayout=(0,styled_components_browser_esm.default)(ColumnLayout_default())(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    width: 320px;\n"])));try{StyledColumnLayout.displayName="StyledColumnLayout",StyledColumnLayout.__docgenInfo={description:"",displayName:"StyledColumnLayout",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CheckboxGroup/StyledComponent.tsx#StyledColumnLayout"]={docgenInfo:StyledColumnLayout.__docgenInfo,name:"StyledColumnLayout",path:"src/components/CheckboxGroup/StyledComponent.tsx#StyledColumnLayout"})}catch(__react_docgen_typescript_loader_error){}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function parseValue(collection){var resultMap=new Map;return collection?(collection.split(",").forEach((function(rawValue){var _rawValue$split2=_slicedToArray(rawValue.split("/"),2),field=_rawValue$split2[0],inputValue=_rawValue$split2[1],parsedInputValue=""===inputValue?void 0:Number(inputValue);if(!field||Number.isNaN(parsedInputValue))throw new Error("Value is not parsable: ".concat(collection));resultMap.set(field,{checkbox:!0,inputValue:parsedInputValue})})),resultMap):resultMap}function packValue(map){return Array.from(map.entries()).filter((function(_ref){return _slicedToArray(_ref,2)[1].checkbox})).map((function(_ref3){var _ref4=_slicedToArray(_ref3,2),field=_ref4[0],_ref4$1$inputValue=_ref4[1].inputValue,inputValue=void 0===_ref4$1$inputValue?"":_ref4$1$inputValue;return"".concat(field,"/").concat(inputValue)})).join(",")}function isGroupWithRows(item){return"label"in item}var CheckboxRow_templateObject,Group=__webpack_require__("./src/components/Group.tsx"),react_ui_Number=__webpack_require__("./node_modules/@splunk/react-ui/Number.js"),Number_default=__webpack_require__.n(react_ui_Number),Switch=__webpack_require__("./node_modules/@splunk/react-ui/Switch.js"),Switch_default=__webpack_require__.n(Switch),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function CheckboxRow_slicedToArray(arr,i){return function CheckboxRow_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CheckboxRow_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function CheckboxRow_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CheckboxRow_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CheckboxRow_arrayLikeToArray(o,minLen)}(arr,i)||function CheckboxRow_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CheckboxRow_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var StyledSwitch=(0,styled_components_browser_esm.default)(Switch_default())(CheckboxRow_templateObject||(CheckboxRow_templateObject=function CheckboxRow_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    padding-left: 3px;\n"])));function CheckboxRow(props){var field=props.field,label=props.label,checkbox=props.checkbox,input=props.input,disabled=props.disabled,handleChange=props.handleChange,_useState2=CheckboxRow_slicedToArray((0,react.useState)(!checkbox||disabled),2),isTextDisabled=_useState2[0],setIsTextDisabled=_useState2[1];(0,react.useEffect)((function(){setIsTextDisabled(!checkbox||disabled)}),[checkbox,disabled]);return(0,jsx_runtime.jsx)(StyledColumnLayout,{children:(0,jsx_runtime.jsxs)(ColumnLayout_default().Row,{children:[(0,jsx_runtime.jsx)(ColumnLayout_default().Column,{span:7,children:(0,jsx_runtime.jsx)(StyledSwitch,{value:field,selected:checkbox,onClick:function handleChangeCheckbox(event,data){var previousValue=data.selected;handleChange({field,inputValue:input,checkbox:!previousValue})},appearance:"checkbox",disabled,children:label},field)}),(0,jsx_runtime.jsx)(ColumnLayout_default().Column,{span:3,children:(0,jsx_runtime.jsx)(Number_default(),{inline:!0,disabled:isTextDisabled,defaultValue:input,onChange:function handleChangeInput(event,_ref){var value=_ref.value;handleChange({field,inputValue:value,checkbox})}})})]})})}CheckboxRow.displayName="CheckboxRow";const CheckboxGroup_CheckboxRow=CheckboxRow;try{CheckboxRow.displayName="CheckboxRow",CheckboxRow.__docgenInfo={description:"",displayName:"CheckboxRow",props:{field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},checkbox:{defaultValue:null,description:"",name:"checkbox",required:!0,type:{name:"boolean"}},input:{defaultValue:null,description:"",name:"input",required:!1,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!0,type:{name:"(value: { field: string; checkbox: boolean; inputValue?: number | undefined; }) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CheckboxGroup/CheckboxRow.tsx#CheckboxRow"]={docgenInfo:CheckboxRow.__docgenInfo,name:"CheckboxRow",path:"src/components/CheckboxGroup/CheckboxRow.tsx#CheckboxRow"})}catch(__react_docgen_typescript_loader_error){}function CheckboxRowWrapper(_ref){var _row$checkbox,_row$input,row=_ref.row,values=_ref.values,handleRowChange=_ref.handleRowChange,disabled=_ref.disabled,valueForField=values.get(row.field);return(0,jsx_runtime.jsx)(CheckboxGroup_CheckboxRow,{field:row.field,label:(null===(_row$checkbox=row.checkbox)||void 0===_row$checkbox?void 0:_row$checkbox.label)||row.field,checkbox:!(null==valueForField||!valueForField.checkbox),input:valueForField?valueForField.inputValue:null===(_row$input=row.input)||void 0===_row$input?void 0:_row$input.defaultValue,handleChange:handleRowChange,disabled})}CheckboxRowWrapper.displayName="CheckboxRowWrapper";const CheckboxGroup_CheckboxRowWrapper=CheckboxRowWrapper;try{CheckboxRowWrapper.displayName="CheckboxRowWrapper",CheckboxRowWrapper.__docgenInfo={description:"",displayName:"CheckboxRowWrapper",props:{row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"Row"}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"ValueByField"}},handleRowChange:{defaultValue:null,description:"",name:"handleRowChange",required:!0,type:{name:"(newValue: { field: string; checkbox: boolean; text?: string | undefined; }) => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CheckboxGroup/CheckboxRowWrapper.tsx#CheckboxRowWrapper"]={docgenInfo:CheckboxRowWrapper.__docgenInfo,name:"CheckboxRowWrapper",path:"src/components/CheckboxGroup/CheckboxRowWrapper.tsx#CheckboxRowWrapper"})}catch(__react_docgen_typescript_loader_error){}var CheckboxSubGroup_templateObject;var StyledCheckboxRowWrapper=styled_components_browser_esm.default.div(CheckboxSubGroup_templateObject||(CheckboxSubGroup_templateObject=function CheckboxSubGroup_taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    & > *:not(:last-child) {\n        margin-bottom: 10px;\n    }\n"])));function CheckboxSubGroup(_ref){var _group$options,_group$options2,group=_ref.group,values=_ref.values,handleRowChange=_ref.handleRowChange,disabled=_ref.disabled,checkedCheckboxesCount=function getCheckedCheckboxesCount(group,values){var checkedCheckboxesCount=0;return group.rows.forEach((function(row){var _values$get;null!==(_values$get=values.get(row.field))&&void 0!==_values$get&&_values$get.checkbox&&(checkedCheckboxesCount+=1)})),checkedCheckboxesCount}(group,values);return(0,jsx_runtime.jsx)(Group.Z,{title:group.label,description:"".concat(checkedCheckboxesCount," of ").concat(group.fields.length),isExpandable:null===(_group$options=group.options)||void 0===_group$options?void 0:_group$options.isExpandable,defaultOpen:null===(_group$options2=group.options)||void 0===_group$options2?void 0:_group$options2.expand,children:(0,jsx_runtime.jsx)(StyledCheckboxRowWrapper,{children:group.rows.map((function(rowInsideGroup){return(0,jsx_runtime.jsx)(CheckboxGroup_CheckboxRowWrapper,{disabled,row:rowInsideGroup,values,handleRowChange},"row_".concat(rowInsideGroup.field))}))})})}CheckboxSubGroup.displayName="CheckboxSubGroup";const CheckboxGroup_CheckboxSubGroup=CheckboxSubGroup;try{CheckboxSubGroup.displayName="CheckboxSubGroup",CheckboxSubGroup.__docgenInfo={description:"",displayName:"CheckboxSubGroup",props:{group:{defaultValue:null,description:"",name:"group",required:!0,type:{name:"GroupWithRows"}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"ValueByField"}},handleRowChange:{defaultValue:null,description:"",name:"handleRowChange",required:!0,type:{name:"(newValue: { field: string; checkbox: boolean; text?: string | undefined; }) => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CheckboxGroup/CheckboxSubGroup.tsx#CheckboxSubGroup"]={docgenInfo:CheckboxSubGroup.__docgenInfo,name:"CheckboxSubGroup",path:"src/components/CheckboxGroup/CheckboxSubGroup.tsx#CheckboxSubGroup"})}catch(__react_docgen_typescript_loader_error){}var Validator=__webpack_require__("./src/util/Validator.js");function useValidation(addCustomValidator,field,controlOptions){(0,react.useEffect)((function(){null==addCustomValidator||addCustomValidator(field,(function(submittedField,submittedValue){var validationResult=function validateCheckboxGroup(field,packedValue,options){var errorMessage=!1,parsedValue=parseValue(packedValue);return options.rows.some((function(row){var rowSubmittedValue=parsedValue.get(row.field);if(rowSubmittedValue){var _row$input,_row$input2,_row$checkbox,_row$input3;if(null!==(_row$input=row.input)&&void 0!==_row$input&&_row$input.required)return errorMessage=Validator.Z.RequiredValidator(field,(null===(_row$checkbox=row.checkbox)||void 0===_row$checkbox?void 0:_row$checkbox.label)||row.field,rowSubmittedValue.inputValue);if(null!==(_row$input2=row.input)&&void 0!==_row$input2&&null!==(_row$input2=_row$input2.validators)&&void 0!==_row$input2&&_row$input2.length)return null===(_row$input3=row.input)||void 0===_row$input3?void 0:_row$input3.validators.some((function(validator){var _row$checkbox2,type=validator.type;if("number"===type)return errorMessage=Validator.Z.NumberValidator(field,(null===(_row$checkbox2=row.checkbox)||void 0===_row$checkbox2?void 0:_row$checkbox2.label)||row.field,validator,rowSubmittedValue.inputValue);throw new Error("[CheckboxGroup] Unsupported validator ".concat(type," for field ").concat(field))}))}return!1})),errorMessage}(submittedField,submittedValue,controlOptions);return!1!==validationResult?validationResult.errorMsg:validationResult}))}),[field,addCustomValidator,controlOptions])}var modes=__webpack_require__("./src/constants/modes.ts");function CheckboxGroup_slicedToArray(arr,i){return function CheckboxGroup_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function CheckboxGroup_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function CheckboxGroup_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return CheckboxGroup_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CheckboxGroup_arrayLikeToArray(o,minLen)}(arr,i)||function CheckboxGroup_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CheckboxGroup_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function CheckboxGroup(props){var field=props.field,handleChange=props.handleChange,controlOptions=props.controlOptions,addCustomValidator=props.addCustomValidator,disabled=props.disabled,flattenedRowsWithGroups=function getFlattenRowsWithGroups(_ref5){var groups=_ref5.groups,rows=_ref5.rows,flattenRowsMixedWithGroups=[];return rows.forEach((function(row){var groupForThisRow=null==groups?void 0:groups.find((function(group){return group.fields.includes(row.field)}));if(groupForThisRow){var addedGroup=flattenRowsMixedWithGroups.find((function(item){return isGroupWithRows(item)&&item.label===groupForThisRow.label})),groupToAdd=addedGroup||_objectSpread(_objectSpread({},groupForThisRow),{},{rows:[]});return groupToAdd.rows.push(row),void(addedGroup||flattenRowsMixedWithGroups.push(groupToAdd))}flattenRowsMixedWithGroups.push(row)})),flattenRowsMixedWithGroups}(controlOptions),shouldUseDefaultValue=props.mode===modes.jg&&null===props.value,value=shouldUseDefaultValue?function getDefaultValues(rows){var resultMap=new Map;return rows.forEach((function(row){if(!isGroupWithRows(row)){var _row$checkbox,_row$input,checkboxDefaultValue=null===(_row$checkbox=row.checkbox)||void 0===_row$checkbox?void 0:_row$checkbox.defaultValue;"boolean"==typeof checkboxDefaultValue&&resultMap.set(row.field,{checkbox:checkboxDefaultValue,inputValue:null===(_row$input=row.input)||void 0===_row$input?void 0:_row$input.defaultValue})}})),resultMap}(controlOptions.rows):parseValue(props.value);(0,react.useEffect)((function(){shouldUseDefaultValue&&handleChange(field,packValue(value),"checkboxGroup")}),[field,handleChange,shouldUseDefaultValue,value]);var _useState2=CheckboxGroup_slicedToArray((0,react.useState)(value),2),values=_useState2[0],setValues=_useState2[1];useValidation(addCustomValidator,field,controlOptions);var handleRowChange=function handleRowChange(newValue){var newValues=function getNewCheckboxValues(values,newValue){var newValues=new Map(values);return newValues.set(newValue.field,{checkbox:newValue.checkbox,inputValue:newValue.inputValue}),newValues}(values,newValue);setValues(newValues),handleChange(field,packValue(newValues),"checkboxGroup")},handleCheckboxToggleAll=function handleCheckboxToggleAll(newCheckboxValue){var newValues=new Map(values);controlOptions.rows.forEach((function(row){var _row$input,oldValue=values.get(row.field);!(null==oldValue||!oldValue.checkbox)!==newCheckboxValue&&newValues.set(row.field,{checkbox:newCheckboxValue,inputValue:(null==oldValue?void 0:oldValue.inputValue)||(null===(_row$input=row.input)||void 0===_row$input?void 0:_row$input.defaultValue)})})),setValues(newValues),handleChange(field,packValue(newValues),"checkboxGroup")};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(StyledColumnLayout,{gutter:5,children:[flattenedRowsWithGroups.map((function(row){return isGroupWithRows(row)?(0,jsx_runtime.jsx)(ColumnLayout_default().Row,{children:(0,jsx_runtime.jsx)(CheckboxGroup_CheckboxSubGroup,{group:row,values,handleRowChange,disabled})},"group_".concat(row.label)):(0,jsx_runtime.jsx)(ColumnLayout_default().Row,{children:(0,jsx_runtime.jsx)(CheckboxGroup_CheckboxRowWrapper,{row,values,handleRowChange,disabled})},"row_".concat(row.field))})),(0,jsx_runtime.jsx)(ColumnLayout_default().Row,{})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Button_default(),{label:"Select All",appearance:"pill",onClick:function onClick(){return handleCheckboxToggleAll(!0)}}),(0,jsx_runtime.jsx)(Button_default(),{label:"Clear All",appearance:"pill",onClick:function onClick(){return handleCheckboxToggleAll(!1)}})]})]})}const CheckboxGroup_CheckboxGroup=CheckboxGroup;try{CheckboxGroup.displayName="CheckboxGroup",CheckboxGroup.__docgenInfo={description:"",displayName:"CheckboxGroup",props:{field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},controlOptions:{defaultValue:null,description:"",name:"controlOptions",required:!0,type:{name:"{ groups?: Group[] | undefined; rows: Row[]; }"}},mode:{defaultValue:null,description:"",name:"mode",required:!0,type:{name:"enum",value:[{value:'"config"'},{value:'"edit"'},{value:'"delete"'},{value:'"clone"'},{value:'"create"'}]}},addCustomValidator:{defaultValue:null,description:"",name:"addCustomValidator",required:!1,type:{name:"((field: string, validator: (submittedField: string, submittedValue: string) => void) => void)"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!0,type:{name:'(field: string, value: string, componentType?: "checkboxGroup" | undefined) => void'}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/CheckboxGroup/CheckboxGroup.tsx#CheckboxGroup"]={docgenInfo:CheckboxGroup.__docgenInfo,name:"CheckboxGroup",path:"src/components/CheckboxGroup/CheckboxGroup.tsx#CheckboxGroup"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Group.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_splunk_react_ui_CollapsiblePanel__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@splunk/react-ui/CollapsiblePanel.js"),_splunk_react_ui_CollapsiblePanel__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_splunk_react_ui_CollapsiblePanel__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var GroupWrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.default.div(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n"]))),CollapsiblePanelWrapper=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.default)(_splunk_react_ui_CollapsiblePanel__WEBPACK_IMPORTED_MODULE_1___default())(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n    span {\n        button {\n            background-color: #f2f4f5;\n            font-size: 14px;\n\n            &:hover:not([disabled]),\n            &:focus:not([disabled]),\n            &:active:not([disabled]) {\n                background-color: #f2f4f5;\n                box-shadow: none;\n            }\n        }\n    }\n"]))),StyledPadding8=styled_components__WEBPACK_IMPORTED_MODULE_3__.default.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n    padding-top: 8px;\n    padding-bottom: 8px;\n"]))),CustomGroupLabel=styled_components__WEBPACK_IMPORTED_MODULE_3__.default.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n    display: flex;\n    justify-content: space-between;\n    padding: 6px 10px;\n    background-color: #f2f4f5;\n    font-size: 14px;\n    margin-bottom: 10px;\n"]))),Description=styled_components__WEBPACK_IMPORTED_MODULE_3__.default.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n    padding-right: 20px;\n    margin-left: 10px;\n    font-size: 12px;\n"])));function Group(_ref){var isExpandable=_ref.isExpandable,defaultOpen=_ref.defaultOpen,children=_ref.children,title=_ref.title,description=_ref.description;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GroupWrapper,{children:isExpandable?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CollapsiblePanelWrapper,{title,defaultOpen,description,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StyledPadding8,{children})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CustomGroupLabel,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Description,{children:description})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{children})]})})}Group.displayName="Group";const __WEBPACK_DEFAULT_EXPORT__=Group;try{Group.displayName="Group",Group.__docgenInfo={description:"",displayName:"Group",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},isExpandable:{defaultValue:null,description:"",name:"isExpandable",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"",name:"defaultOpen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Group.tsx#Group"]={docgenInfo:Group.__docgenInfo,name:"Group",path:"src/components/Group.tsx#Group"})}catch(__react_docgen_typescript_loader_error){}},"./src/constants/modes.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DE:()=>MODE_CONFIG,Oh:()=>MODE_CLONE,bZ:()=>MODE_EDIT,jg:()=>MODE_CREATE});var MODE_CLONE="clone",MODE_CREATE="create",MODE_EDIT="edit",MODE_CONFIG="config"},"./src/constants/preDefinedRegex.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X1:()=>PREDEFINED_VALIDATORS_DICT});var _util_messageUtil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/util/messageUtil.js"),PREDEFINED_VALIDATORS_DICT={url:{regex:/^(?:(?:https?|ftp|opc\.tcp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?_?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))?)(?::\d{2,5})?(?:\/[^\s]*)?$/,inputValueType:(0,_util_messageUtil__WEBPACK_IMPORTED_MODULE_0__.P)(111)},email:{regex:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,inputValueType:(0,_util_messageUtil__WEBPACK_IMPORTED_MODULE_0__.P)(112)},ipv4:{regex:/^(?:(?:[0-1]?\d{1,2}|2[0-4]\d|25[0-5])(?:\.|$)){4}$/,inputValueType:(0,_util_messageUtil__WEBPACK_IMPORTED_MODULE_0__.P)(113)},date:{regex:/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,inputValueType:(0,_util_messageUtil__WEBPACK_IMPORTED_MODULE_0__.P)(114)}}}}]);