(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[5461],{"./node_modules/@splunk/react-icons/Cross.js":(module,__unused_webpack_exports,__webpack_require__)=>{(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{default:()=>y});const t=__webpack_require__("./node_modules/react/index.js");var n=e.n(t);const a=__webpack_require__("./node_modules/@splunk/react-icons/SVG.js");var o=e.n(a);const u=__webpack_require__("./node_modules/@splunk/react-icons/IconProvider.js");function i(e,r){if(null==e)return{};var n,a,t=function l(e,r){if(null==e)return{};var a,o,t={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var f=new Map;f.set("outlined",(function(){return n().createElement(n().Fragment,null,n().createElement("path",{d:"M6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.2929 17.2929C4.90238 17.6834 4.90238 18.3166 5.2929 18.7071C5.68342 19.0976 6.31659 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289Z"}))}));var d=["default","outlined"],s=function e(r){return"default"===r||r&&!function e(r){return d.indexOf(r)>=0}(r)?"outlined":r},p=function e(r){var a=r.children,l=r.variant,c=i(r,["children","variant"]),d=s(l),v="cross-".concat(d),p=(0,t.useContext)(u.IconContext),y=f.get(d);if(p&&y){var b=p.toRender;if((0,p.addIcon)(v,y()),!b)return null}return n().createElement(o(),c,a,p?n().createElement("use",{href:"#".concat(v)}):!!y&&y())};p.defaultProps={variant:"default"};const y=p;module.exports=r})()},"./node_modules/@splunk/react-icons/enterprise/Clear.js":(module,__unused_webpack_exports,__webpack_require__)=>{(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{default:()=>i});const t=__webpack_require__("./node_modules/react/index.js");var n=e.n(t);const o=__webpack_require__("./node_modules/@splunk/ui-utils/i18n.js"),a=__webpack_require__("./node_modules/@splunk/react-icons/SVGInternal.js");var l=e.n(a);function u(){return u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}function i(e){return n().createElement(l(),u({screenReaderText:(0,o._)("Clear")},e),n().createElement("path",{d:"M918.315 750.645L1500 1332.33 1332.33 1500 750.645 918.315 167.67 1500 0 1332.33l581.685-582.975L0 167.67 167.67 0l582.975 581.685L1332.33 0 1500 167.67"}))}module.exports=r})()},"./node_modules/@splunk/react-icons/enterprise/Close.js":(module,__unused_webpack_exports,__webpack_require__)=>{(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{default:()=>l});const t=__webpack_require__("./node_modules/react/index.js");var n=e.n(t);const o=__webpack_require__("./node_modules/@splunk/ui-utils/i18n.js"),a=__webpack_require__("./node_modules/@splunk/react-icons/enterprise/Clear.js");var u=e.n(a);function i(){return i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},i.apply(this,arguments)}function l(e){return n().createElement(u(),i({screenReaderText:(0,o._)("Close")},e))}module.exports=r})()},"./src/components/FileInputComponent/FileInputComponent.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:String(i)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Base:()=>Base,EncryptedWithDefaultName:()=>EncryptedWithDefaultName,WithDefaultName:()=>WithDefaultName,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={component:__webpack_require__("./src/components/FileInputComponent/FileInputComponent.tsx").Z,title:"Components/FileInputComponent"};var Base={args:{field:"fileInptuComponent",controlOptions:{fileSupportMessage:"test support message",supportedFileTypes:["json","txt"],maxFileSize:500},disabled:!1}},WithDefaultName={args:_objectSpread(_objectSpread({},Base.args),{},{fileNameToDisplay:"Test_file_name.json"})},EncryptedWithDefaultName={args:_objectSpread(_objectSpread({},Base.args),{},{fileNameToDisplay:"Test_file_name.json",encrypted:!0})};Base.parameters={...Base.parameters,docs:{...Base.parameters?.docs,source:{originalSource:"{\n  args: {\n    field: 'fileInptuComponent',\n    controlOptions: {\n      fileSupportMessage: 'test support message',\n      supportedFileTypes: ['json', 'txt'],\n      maxFileSize: 500\n    },\n    disabled: false\n  }\n}",...Base.parameters?.docs?.source}}},WithDefaultName.parameters={...WithDefaultName.parameters,docs:{...WithDefaultName.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Base.args,\n    fileNameToDisplay: 'Test_file_name.json'\n  }\n}",...WithDefaultName.parameters?.docs?.source}}},EncryptedWithDefaultName.parameters={...EncryptedWithDefaultName.parameters,docs:{...EncryptedWithDefaultName.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Base.args,\n    fileNameToDisplay: 'Test_file_name.json',\n    encrypted: true\n  }\n}",...EncryptedWithDefaultName.parameters?.docs?.source}}};const __namedExportsOrder=["Base","WithDefaultName","EncryptedWithDefaultName"]},"./src/util/messageUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>getFormattedMessage,n:()=>parseErrorMsg});var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),i18n=__webpack_require__("./node_modules/@splunk/ui-utils/i18n.js");const messageDict={0:"Field {{args[0]}} is required",1:"Field {{args[0]}} must be a string",2:"{{args[0]}} {{args[1]}} is already in use",3:'"default", ".", "..", string started with "_" and string including any one of ["*", "\\", "[", "]", "(", ")", "?", ":"] are reserved value which cannot be used for field {{args[0]}}',5:"Field {{args[0]}} should be a positive number",6:"Field {{args[0]}} is required",7:"Field {{args[0]}} is not a valid regular expression",8:"Field {{args[0]}} should be within the range of [{{args[1]}} and {{args[2]}}]",9:"Field {{args[0]}} should be greater than or equal to {{args[1]}}",10:"Field {{args[0]}} should be less than or equal to {{args[1]}}",11:"{{args[0]}} is not a function",12:"{{args[0]}} is not a valid regular expression",13:"{{args[0]}} is not a valid number range",15:"Field {{args[0]}} does not match regular expression {{args[1]}}",16:"Field {{args[0]}} is not a number",17:"Length of {{args[0]}} should be greater than or equal to {{args[1]}}",18:"Length of {{args[0]}} should be less than or equal to {{args[1]}}",19:"Field {{args[0]}} is not a valid {{args[1]}}",20:"configuration file should be pure JSON",21:"duplicate {{args[0]}} keys are not allowed",22:"Field {{args[0]}} must be less than 1024 characters",23:'"name" field must be provided for {{args[0]}} \'s entity in configuration file',24:"The file must be in one of these formats: {{args[0]}}",25:"The file size should not exceed {{args[0]}} KB",26:"The file is invalid",27:"{{args[0]}} type is not present in supported File Types",28:"The file must be in {{args[0]}} format",100:"Create New Input",101:"Delete Confirmation",102:'Are you sure you want to delete "{{args[0]}}" {{args[1]}}? Ensure that no input is configured with "{{args[0]}}" as this will stop data collection for that input.',103:'Are you sure you want to delete "{{args[0]}}" {{args[1]}}?',104:"Error Message",105:"Warning",106:"Input Type",107:"Items",108:"Saving",109:"Failed to load index",110:"Internal configuration file error. Something wrong within the package or installation step. Contact your administrator for support. Detail: {{args[0]}}",111:"URL",112:"email address",113:"IPV4 address",114:"date in ISO 8601 format",116:"Inputs",117:"Configuration",118:"configuration file not found",unknown:"An unknown error occurred"};var getFormattedMessage=function getFormattedMessage(code,msg){var template=messageDict[code]||messageDict.unknown;return template=(0,i18n._)(template),lodash.template(template,{escape:/\{\{(.+?)\}\}/g})({args:msg})},parseErrorMsg=function parseErrorMsg(err){var matches,errorMsg="";try{var msg=err.response.data.messages[0].text;if((matches=/.+"REST Error \[[\d]+\]:\s+.+\s+--\s+([\s\S]*)"\.\s*See splunkd\.log(\/python.log)? for more details\./.exec(msg))&&matches[1])try{var innerMsgJSON=JSON.parse(matches[1]);errorMsg=String(innerMsgJSON.messages[0].text)}catch(error){errorMsg=matches[1]}else errorMsg=msg}catch(e){errorMsg=(0,i18n._)("Error in processing the request")}return errorMsg}},"./src/components/FileInputComponent/FileInputComponent.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>FileInputComponent_FileInputComponent});var react=__webpack_require__("./node_modules/react/index.js"),File=__webpack_require__("./node_modules/@splunk/react-ui/File.js"),File_default=__webpack_require__.n(File),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const fileInputConstant_FILE_MAX_SIZE=500,fileInputConstant_REUPLOAD_MESSAGE="Please reupload this file",fileInputConstant_INVALID_FILE_MESSAGE="##INVALID_FILE##";var _templateObject,messageUtil=__webpack_require__("./src/util/messageUtil.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var FileWrapper=(0,styled_components_browser_esm.default)(File_default())(_templateObject||(_templateObject=function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n    width: 320px !important;\n    > div[class*='FileStyles__StyledHelp-'] {\n        margin-bottom: 0px;\n    }\n"])));function FileInputComponent(props){var field=props.field,disabled=props.disabled,controlOptions=props.controlOptions,handleChange=props.handleChange,fileNameToDisplay=props.fileNameToDisplay,encrypted=props.encrypted,fileSupportMessage=controlOptions.fileSupportMessage,supportedFileTypes=controlOptions.supportedFileTypes,_controlOptions$maxFi=controlOptions.maxFileSize,maxFileSize=void 0===_controlOptions$maxFi?fileInputConstant_FILE_MAX_SIZE:_controlOptions$maxFi,fileReader=new FileReader,textDecoder=new TextDecoder,_useState2=_slicedToArray((0,react.useState)(fileNameToDisplay||""),2),fileName=_useState2[0],setFileName=_useState2[1],_useState4=_slicedToArray((0,react.useState)(fileNameToDisplay&&encrypted?fileInputConstant_REUPLOAD_MESSAGE:""),2),errorMsg=_useState4[0],setErrorMsg=_useState4[1];return(0,jsx_runtime.jsx)(FileWrapper,{onRequestAdd:function handleAddFiles(files){if(files.length){var file=files[0];1===fileReader.readyState&&fileReader.abort(),fileReader.readAsArrayBuffer(file),fileReader.onload=function(){var isValid=function isValidFile(fileType,fileSize,supportedFileTypes,maxFileSize){return fileType&&supportedFileTypes.includes(fileType)?!(fileSize>maxFileSize)||(0,jsx_runtime.jsx)("span",{style:{color:"red"},children:(0,messageUtil.P)(25,[maxFileSize])}):(0,jsx_runtime.jsx)("span",{style:{color:"red"},children:(0,messageUtil.P)(1===supportedFileTypes.length?28:24,[supportedFileTypes.join(", ")])})}(file.name.split(".").pop(),file.size/1024,supportedFileTypes,maxFileSize);if(!0===isValid){setErrorMsg("");try{fileReader.result&&"string"!=typeof fileReader.result&&handleChange(field,textDecoder.decode(fileReader.result))}catch(err){console.log(err)}}else setErrorMsg(isValid),handleChange(field,fileInputConstant_INVALID_FILE_MESSAGE);setFileName(file.name)}}},onRequestRemove:function handleRemoveFile(){1===fileReader.readyState&&fileReader.abort(),setFileName(null),handleChange(field,""),setErrorMsg("")},supportsMessage:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ",fileSupportMessage," "]}),disabled,help:errorMsg,error:!!errorMsg,children:fileName&&(0,jsx_runtime.jsx)(File_default().Item,{name:fileName})},field)}FileInputComponent.displayName="FileInputComponent";const FileInputComponent_FileInputComponent=FileInputComponent;try{FileInputComponent.displayName="FileInputComponent",FileInputComponent.__docgenInfo={description:"",displayName:"FileInputComponent",props:{field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"string"}},controlOptions:{defaultValue:null,description:"",name:"controlOptions",required:!0,type:{name:"{ fileSupportMessage?: string | undefined; supportedFileTypes: string[]; maxFileSize?: number | undefined; }"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},handleChange:{defaultValue:null,description:"",name:"handleChange",required:!0,type:{name:"(field: string, data: string) => void"}},encrypted:{defaultValue:null,description:"",name:"encrypted",required:!1,type:{name:"boolean"}},fileNameToDisplay:{defaultValue:null,description:"",name:"fileNameToDisplay",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/FileInputComponent/FileInputComponent.tsx#FileInputComponent"]={docgenInfo:FileInputComponent.__docgenInfo,name:"FileInputComponent",path:"src/components/FileInputComponent/FileInputComponent.tsx#FileInputComponent"})}catch(__react_docgen_typescript_loader_error){}}}]);